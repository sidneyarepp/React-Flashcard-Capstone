(this["webpackJsonpproject-flashcards"]=this["webpackJsonpproject-flashcards"]||[]).push([[0],{42:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(23),s=c.n(a),o=c(7),i=c(8),d=c(6),l=c.n(d),b=c(13),u=c(25),j=["cards"],h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).API_BASE_URL||"http://localhost:5000",f=new Headers;function O(e){e.cards;return Object(u.a)(e,j)}function m(e,t,c){return x.apply(this,arguments)}function x(){return(x=Object(b.a)(l.a.mark((function e(t,c,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,c);case 3:if(!((r=e.sent).status<200||r.status>399)){e.next=6;break}throw new Error("".concat(r.status," - ").concat(r.statusText));case 6:if(204!==r.status){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(0),"AbortError"===e.t0.name){e.next=18;break}throw console.error(e.t0.stack),e.t0;case 18:return e.abrupt("return",Promise.resolve(n));case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function v(){return(v=Object(b.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(h,"/decks?_embed=cards"),e.next=3,m(c,{signal:t},[]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(b.a)(l.a.mark((function e(t,c){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks"),r={method:"POST",headers:f,body:JSON.stringify(O(t)),signal:c},e.next=4,m(n,r,{});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(l.a.mark((function e(t,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks/").concat(t,"?_embed=cards"),e.next=3,m(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(l.a.mark((function e(t,c){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks/").concat(t.id,"?_embed=cards"),r={method:"PUT",headers:f,body:JSON.stringify(O(t)),signal:c},e.next=4,m(n,r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(l.a.mark((function e(t,c){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/decks/").concat(t),r={method:"DELETE",signal:c},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(b.a)(l.a.mark((function e(t,c,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(h,"/cards"),c.deckId=Number(t),a={method:"POST",headers:f,body:JSON.stringify(c),signal:n},e.next=5,m(r,a,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(b.a)(l.a.mark((function e(t,c){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/cards/").concat(t),e.next=3,m(n,{signal:c},{});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(b.a)(l.a.mark((function e(t,c){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/cards/").concat(t.id),r={method:"PUT",headers:f,body:JSON.stringify(t)},e.next=4,m(n,r,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(b.a)(l.a.mark((function e(t,c){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/cards/").concat(t),r={method:"DELETE",signal:c},e.next=4,m(n,r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}f.append("Content-Type","application/json");var I=c(15),F=c(16),T=c(3),_=c(4),H=c(5),P=c(0);var J=function(e){var t=e.deckData,c=e.cardInformation,n=e.setCardInformation,r=e.handleAddCardSubmit,a=e.handleSubmitEditCard,s=Object(o.g)(),i=s.deckId,d=s.cardId,l=Object(o.h)().url,b=Object(o.f)(),u=l.includes("new"),j=u?"Add Card":"Edit Card ".concat(d);function h(e){n(Object(F.a)(Object(F.a)({},c),{},Object(I.a)({},e.target.name,e.target.value)))}return Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{className:"bg-light p-2 rounded",children:[Object(P.jsxs)(T.b,{to:"/",children:[Object(P.jsx)(_.a,{icon:H.c})," Home"]})," / ",Object(P.jsx)(T.b,{to:"/decks/".concat(i),children:t.name})," / ",j]}),Object(P.jsxs)("h1",{className:"mb-3",children:[t.name,": ",Object(P.jsx)("span",{children:j})]}),Object(P.jsxs)("form",{onSubmit:u?r:a,className:"border p-4 rounded",children:[Object(P.jsx)("label",{htmlFor:"front",className:"form-label",children:"Front"}),Object(P.jsx)("textarea",{type:"text",className:"form-control",name:"front",id:"front",value:c.front,onChange:h,required:!0}),Object(P.jsx)("label",{htmlFor:"back",className:"form-label",children:"Back"}),Object(P.jsx)("textarea",{type:"text",className:"form-control",name:"back",id:"back",value:c.back,onChange:h,required:!0}),Object(P.jsxs)("div",{className:"mt-3",children:[Object(P.jsx)("button",{onClick:function(){b.push("/decks/".concat(i))},className:"btn btn-secondary",children:u?"Done":"Cancel"}),Object(P.jsx)("button",{type:"submit",className:"btn btn-primary ml-2",children:u?"Save":"Submit"})]})]})]})};var R=function(){var e=Object(n.useState)({name:"",description:""}),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)({front:"",back:""}),s=Object(i.a)(a,2),d=s[0],l=s[1],b=Object(o.g)().deckId;return Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,c=e.abort;return w(b,t).then((function(e){return r(e)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(){return c}}),[b,r]),Object(P.jsx)(J,{deckData:c,cardInformation:d,setCardInformation:l,handleAddCardSubmit:function(e){e.preventDefault();var t=new AbortController,c=t.signal,n=t.abort;return function(e,t,c){return S.apply(this,arguments)}(b,d,c).then(l({front:"",back:""})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Cancelled")})),function(){return n}}})};var B=function(e){var t=e.deck,c=e.deleteDeckInState,n=t.id,r=t.name,a=t.description,s=t.cards,o=(new AbortController).signal;return Object(P.jsx)("div",{className:"card",style:{width:"30rem"},children:Object(P.jsxs)("div",{className:"card-body",children:[Object(P.jsxs)("div",{className:"row",children:[Object(P.jsx)("h5",{className:"card-title col col-9",children:r}),Object(P.jsxs)("span",{className:"col col-3 text-right",children:[s.length," cards"]})]}),Object(P.jsx)("p",{className:"card-text",children:a}),Object(P.jsxs)("div",{className:"row",children:[Object(P.jsxs)("div",{className:"col col-9",children:[Object(P.jsx)(T.b,{to:"/decks/".concat(n),className:"card-link",children:Object(P.jsxs)("button",{type:"button",className:"btn btn-secondary",children:["View ",Object(P.jsx)(_.a,{icon:H.b})]})}),Object(P.jsx)(T.b,{to:"/decks/".concat(n,"/study"),className:"card-link",children:Object(P.jsxs)("button",{type:"button",className:"btn btn-primary",children:["Study ",Object(P.jsx)(_.a,{icon:H.a})]})})]}),Object(P.jsx)("div",{className:"col col-3 text-right",children:Object(P.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){window.confirm("Delete this deck?\n\nYou will not be able to recover it.")&&y(n,o).then(c(n)).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")}))},children:Object(P.jsx)(_.a,{icon:H.f})})})]})]})})};var L=function(e){var t=e.decks,c=e.setDecks,r=Object(o.f)();function a(e){c(t.filter((function(t){return t.id!==e})))}return Object(n.useEffect)((function(){p((new AbortController).signal).then((function(e){return c(e)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")}))}),[c]),Object(P.jsxs)("div",{className:"d-flex flex-column",children:[Object(P.jsx)("div",{className:"d-flex flex-row",children:Object(P.jsxs)("button",{className:"btn btn-lg btn-secondary mb-3",onClick:function(){r.push("/decks/new")},children:[Object(P.jsx)(_.a,{icon:H.e})," Create Deck"]})}),t.map((function(e){return Object(P.jsx)("div",{className:"d-flex flex-row mb-3",children:Object(P.jsx)(B,{deleteDeckInState:a,deck:e})},e.id)}))]})};var U=function(e){var t=e.deckData,c=e.setDeckData,n=e.handleEditSubmit,r=e.handleCreateSubmit,a=Object(o.f)(),s=Object(o.h)().url.includes("new");function i(e){c(Object(F.a)(Object(F.a)({},t),{},Object(I.a)({},e.target.name,e.target.value)))}return Object(P.jsx)("div",{children:Object(P.jsxs)("form",{className:"border p-4 rounded",onSubmit:s?r:n,children:[Object(P.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name:"}),Object(P.jsx)("input",{type:"text",id:"name",className:"form-control",name:"name",value:t.name,onChange:i,required:!0}),Object(P.jsx)("label",{htmlFor:"description",className:"form-label mt-2",children:"Description:"}),Object(P.jsx)("textarea",{type:"text",id:"description",className:"form-control",name:"description",value:t.description,onChange:i,required:!0}),Object(P.jsxs)("div",{className:"mt-3",children:[Object(P.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),a.push("/")},children:"Cancel"}),Object(P.jsx)("button",{className:"btn btn-primary ml-2",type:"submit",children:"Submit"})]})]})})};var q=function(){var e=Object(o.f)(),t=Object(n.useState)({name:"",description:""}),c=Object(i.a)(t,2),r=c[0],a=c[1];return Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{className:"bg-light p-2 rounded",children:[Object(P.jsxs)(T.b,{to:"/",children:[Object(P.jsx)(_.a,{icon:H.c})," Home"]})," / Create Deck"]}),Object(P.jsx)("h1",{children:"Create Deck"}),Object(P.jsx)(U,{deckData:r,setDeckData:a,handleCreateSubmit:function(t){t.preventDefault();var c=new AbortController,n=c.signal,a=c.abort;return function(e,t){return k.apply(this,arguments)}(r,n).then(e.push("/")).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Cancelled")})),function(){return a}}})]})};var Y=function(){var e=Object(n.useState)({name:"",description:""}),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)({front:"",back:""}),s=Object(i.a)(a,2),d=s[0],l=s[1],b=Object(o.g)(),u=b.deckId,j=b.cardId,h=Object(o.f)();return Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,c=e.abort;return w(u,t).then((function(e){return r(e)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(e,t){return D.apply(this,arguments)}(j,t).then((function(e){return l(e)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(){return c}}),[u,r,l,j]),Object(P.jsx)(J,{deckData:c,cardInformation:d,setCardInformation:l,handleSubmitEditCard:function(e){e.preventDefault();var t=new AbortController,c=t.signal,n=t.abort;return function(e,t){return A.apply(this,arguments)}(d,c).then((function(){return h.push("/decks/".concat(u))})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Cancelled")})),function(){return n}}})};var K=function(){var e=Object(o.f)(),t=Object(n.useState)({name:"",description:""}),c=Object(i.a)(t,2),r=c[0],a=c[1],s=Object(o.g)().deckId;return Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,c=e.abort;return w(s,t).then((function(e){return a(e)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(){return c}}),[s,a]),Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{className:"bg-light p-2 rounded",children:[Object(P.jsxs)(T.b,{to:"/",children:[Object(P.jsx)(_.a,{icon:H.c})," Home"]})," / ",Object(P.jsx)(T.b,{to:"/decks/".concat(s),children:r.name})," / Edit Deck"]}),Object(P.jsx)("h1",{className:"mb-3",children:"Edit Deck"}),Object(P.jsx)(U,{deckData:r,setDeckData:a,handleEditSubmit:function(t){t.preventDefault();var c=new AbortController,n=c.signal,a=c.abort;return function(e,t){return N.apply(this,arguments)}(r,n).then(e.push("/decks/".concat(s))).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(){return a}}})]})};var W=function(e){var t=e.card,c=e.deleteCardInState,n=t.id,r=t.front,a=t.back,s=Object(o.h)().url;return Object(P.jsx)("div",{className:"card d-flex mb-3",style:{width:"30rem"},id:n,children:Object(P.jsxs)("div",{className:"card-body",children:[Object(P.jsx)("div",{children:Object(P.jsxs)("h6",{children:[Object(P.jsx)("span",{className:"text-primary",children:"Front:"})," ",r]})}),Object(P.jsx)("div",{className:"my-3",children:Object(P.jsxs)("h6",{children:[Object(P.jsx)("span",{className:"text-primary",children:"Back:"})," ",a]})}),Object(P.jsxs)("div",{className:"row",children:[Object(P.jsxs)(T.b,{to:"".concat(s,"/cards/").concat(n,"/edit"),className:"btn btn-primary ml-3",children:[Object(P.jsx)(_.a,{icon:H.d})," Edit"]}),Object(P.jsx)("button",{className:"btn btn-danger ml-2",onClick:function(){var e=(new AbortController).signal;window.confirm("Delete this deck?\n\nYou will not be able to recover it.")&&function(e,t){return E.apply(this,arguments)}(n,e).then(c(n)).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Cancelled")}))},children:Object(P.jsx)(_.a,{icon:H.f})})]})]})})};var Q=function(e){var t=e.deckData,c=e.setDeckData,r=Object(n.useState)([]),a=Object(i.a)(r,2),s=a[0],d=a[1],l=t.id,b=t.name,u=t.description,j=Object(o.f)(),h=Object(o.g)().deckId,f=Object(o.h)().url;function O(e){d(s.filter((function(t){return t.id!==e})))}return Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,n=e.abort;return w(h,t).then((function(e){c(e),d(e.cards)})),function(){return n}}),[h,d,c]),Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{className:"bg-light p-2 rounded",children:[Object(P.jsxs)(T.b,{to:"/",children:[Object(P.jsx)(_.a,{icon:H.c})," Home"]})," / ",t.name]}),Object(P.jsx)("h3",{children:b}),Object(P.jsx)("p",{children:u}),Object(P.jsxs)("div",{className:"mb-2",children:[Object(P.jsxs)(T.b,{to:"".concat(f,"/edit"),className:"btn btn-secondary",children:[Object(P.jsx)(_.a,{icon:H.d})," Edit"]}),Object(P.jsxs)(T.b,{to:"".concat(f,"/study"),className:"btn btn-primary ml-2",children:[Object(P.jsx)(_.a,{icon:H.a})," Study"]}),Object(P.jsxs)(T.b,{to:"".concat(f,"/cards/new"),className:"btn btn-primary ml-2",children:[Object(P.jsx)(_.a,{icon:H.e})," Add Cards"]}),Object(P.jsx)("button",{type:"button",className:"btn btn-danger ml-2",onClick:function(){var e=new AbortController,t=e.signal,c=e.abort;return window.confirm("Delete this deck?\n\nYou will not be able to recover it.")&&y(l,t).then(j.push("/")).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(){return c}},children:Object(P.jsx)(_.a,{icon:H.f})})]}),Object(P.jsx)("h2",{children:"Cards"}),s.map((function(e){return Object(P.jsx)(W,{card:e,deleteCardInState:O,url:f},e.id)}))]})};var V=function(e){var t=e.deckData,c=e.currentCardIndex,n=e.setCurrentCardIndex,r=e.cards,a=e.cardSide,s=e.setCardSide,i=e.currentCard,d=Object(o.f)(),l="front"===a;return Object(P.jsx)("div",{className:"card",style:{width:"30rem"},children:Object(P.jsxs)("div",{className:"card-body",children:[Object(P.jsxs)("h4",{children:["Card ",c+1," of ",r.length]}),Object(P.jsx)("p",{className:"card-text",children:l?i.front:i.back}),Object(P.jsx)("button",{className:"btn btn-secondary",onClick:function(){s("front"===a?"back":"front")},children:"Flip"}),!l&&Object(P.jsx)("button",{className:"btn btn-primary ml-2",onClick:function(){c<t.cards.length-1?(n(c+1),s("front")):window.confirm('Restart cards?\n\nClick "Cancel" to return to the home page.')?(n(0),s("front")):d.push("/")},children:"Next"})]})})};var M=function(e){var t=e.cardsQuantity,c=Object(o.g)().deckId;return Object(P.jsxs)("div",{children:[Object(P.jsx)("h2",{children:"Not enough cards"}),Object(P.jsxs)("p",{children:["You need at least 3 cards to study.  There ",1===t?"is 1 card":"are ".concat(t," cards")," in this deck."]}),Object(P.jsxs)(T.b,{to:"/decks/".concat(c,"/cards/new"),className:"btn btn-primary",children:[Object(P.jsx)(_.a,{icon:H.e})," ",Object(P.jsx)("span",{children:"Add Cards"})]})]})};var z=function(e){var t=e.deckData,c=e.setDeckData,r=Object(n.useState)([]),a=Object(i.a)(r,2),s=a[0],d=a[1],l=Object(n.useState)("front"),b=Object(i.a)(l,2),u=b[0],j=b[1],h=Object(n.useState)(0),f=Object(i.a)(h,2),O=f[0],m=f[1],x=Object(o.g)().deckId,p=s[O];return Object(n.useEffect)((function(){var e=(new AbortController).signal;w(x,e).then((function(e){c(e),d(e.cards)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")}))}),[x,d,c]),Object(P.jsxs)("div",{children:[Object(P.jsxs)("p",{className:"bg-light p-2 rounded",children:[Object(P.jsxs)(T.b,{to:"/",children:[Object(P.jsx)(_.a,{icon:H.c})," Home"]})," / ",Object(P.jsx)(T.b,{to:"/decks/".concat(x),children:t.name})," / Study"]}),Object(P.jsxs)("h1",{className:"mb-4",children:["Study: ",t.name]}),s.length>2?Object(P.jsx)(V,{deckData:t,currentCardIndex:O,setCurrentCardIndex:m,currentCard:p,cards:s,cardSide:u,setCardSide:j}):Object(P.jsx)(M,{cardsQuantity:s.length})]})};var G=function(){return Object(P.jsx)("header",{className:"jumbotron bg-dark",children:Object(P.jsxs)("div",{className:"container text-white",children:[Object(P.jsx)("h1",{className:"display-4",children:"Flashcard-o-matic"}),Object(P.jsx)("p",{className:"lead",children:"Discover The Flashcard Difference."})]})})};var X=function(){return Object(P.jsx)("div",{className:"NotFound",children:Object(P.jsx)("h1",{children:"Not Found"})})};var Z=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)({name:"",description:""}),s=Object(i.a)(a,2),d=s[0],l=s[1];return Object(n.useEffect)((function(){var e=new AbortController,t=e.signal,c=e.abort;return p(t).then((function(e){return r(e)})).catch((function(e){if("AbortError"!==e.name)throw e;console.log("Fetch Aborted")})),function(){return c}}),[]),Object(P.jsxs)("section",{children:[Object(P.jsx)(G,{}),Object(P.jsx)("div",{className:"container",children:Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{path:"/",exact:!0,children:Object(P.jsx)(L,{decks:c,setDecks:r})}),Object(P.jsx)(o.a,{path:"/decks/new",children:Object(P.jsx)(q,{})}),Object(P.jsx)(o.a,{path:"/decks/:deckId",exact:!0,children:Object(P.jsx)(Q,{deckData:d,setDeckData:l})}),Object(P.jsx)(o.a,{path:"/decks/:deckId/edit",children:Object(P.jsx)(K,{})}),Object(P.jsx)(o.a,{path:"/decks/:deckId/study",children:Object(P.jsx)(z,{deckData:d,setDeckData:l})}),Object(P.jsx)(o.a,{path:"/decks/:deckId/cards/:cardId/edit",children:Object(P.jsx)(Y,{})}),Object(P.jsx)(o.a,{path:"/decks/:deckId/cards/new",children:Object(P.jsx)(R,{})}),Object(P.jsx)(o.a,{children:Object(P.jsx)(X,{})})]})})]})};var $=function(){return Object(P.jsx)("div",{className:"app-routes",children:Object(P.jsx)(o.c,{children:Object(P.jsx)(o.a,{path:"/",children:Object(P.jsx)(Z,{})})})})};s.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(T.a,{children:Object(P.jsx)($,{})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.919392fa.chunk.js.map